<launch>

    <!-- Set to 1 if you want to run the map_server -->
    <arg name="map_server" value = "1" />

    <arg name="car_name" default="car" />

    <!-- Default params for CloneFollower -->
    <arg name="follow_offset" default="1.5" />
    <arg name="force_in_bounds" default="0" />

    <!-- Launch  map server-->
    <group if="$(arg map_server)">
        <include file="$(find mushr_sim)/launch/map_server.launch" />
    </group>

    <!-- Launch car -->

    <group ns="$(arg car_name)">

        <include file="$(find mushr_sim)/launch/single_car.launch">
            <!-- Could be racecar-mit, racecar-uw-tx2, or racecar-uw-nano -->
            <arg name="racecar_version" value="racecar-uw-nano" />
            <!-- The colors of the racecar, should be of the form "-<platform_color>-<inset_color>" -->
            <!-- An empty string will result in the default URDF -->
              <!-- Check CMakeLists.txt of mushr_description for appropriate values -->
            <arg name="racecar_color" value="" />

            <arg name="car_name" value="$(arg car_name)" />
         </include>
    </group>


    <node name="line" pkg="lab3" type="line_follower.py" output="screen">
       <param name="clone_offset" value="$(arg follow_offset)" />
       <param name="clone_in_bounds" value="$(arg force_in_bounds)" />
    </node>

</launch>
